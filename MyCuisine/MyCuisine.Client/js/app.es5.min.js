"use strict";(function(){function n(n,t){var i="views/",r="vm";t.html5Mode(!0);n.when("/",{title:"Home",style:"home",templateUrl:i+"home.html",controller:"HomeController",controllerAs:r}).when("/location",{title:"Location",templateUrl:i+"location.html",controllerAs:r}).when("/menu",{title:"Menu",templateUrl:i+"menu.html",controllerAs:r}).when("/blog",{title:"Blog",templateUrl:i+"blog.html",controller:"BlogController",controllerAs:r}).when("/login",{title:"Login",templateUrl:i+"login.html",controllerAs:r}).when("/post/add",{title:"Add Post",templateUrl:i+"addPost.html",controller:"AddPostController",controllerAs:r}).when("/post/:objectId",{title:"Post",templateUrl:i+"post.html",controllerAs:r}).otherwise({redirectTo:"/"})}angular.module("myApp.services",[]);angular.module("myApp.directives",[]);angular.module("myApp.controllers",["myApp.services"]);var t=angular.module("myApp",["ngRoute","ngResource","myApp.controllers","myApp.directives"]).config(["$routeProvider","$locationProvider",n]).value("toastr",toastr).constant("baseServiceUrl","http://localhost:64352/");t.run(["$location","$rootScope","$timeout","notifier",function(n,t,i,r){t.$on("$routeChangeSuccess",function(n,i){t.title=i.$$route.title;t.style=i.$$route.style||"page"});t.currentUser=Parse.User.current();t.login=function(u){Parse.User.logIn(u.username,u.password,{success:function(n){t.currentUser=n;r.success("Successful login!")},error:function(){r.error("Username/Password combination is not valid!")}});i({},0);n.path("/post/add")};t.signup=function(u){var f=new Parse.User;f.set("username",u.username);f.set("password",u.password);f.set("email",u.email);f.set("fname",u.fname);f.set("lname",u.lname);f.signUp(null,{success:function(u){r.success("Registration successful!");t.currentUser=u;i({},0);n.path("/post/add")},error:function(n,t){r.error("Error: "+t.code+" "+t.message)}})};t.logOut=function(){Parse.User.logOut();r.success("Successful logout!");t.currentUser=null;i({},0);n.path("/")}}])})();