"use strict";(function(){function n(n,t){var i="views/",r="vm";t.html5Mode(!0);n.when("/",{title:"Home",style:"home",templateUrl:i+"home.html",controller:"HomeController",controllerAs:r}).when("/location",{title:"Location",templateUrl:i+"location.html",controllerAs:r}).when("/menu",{title:"Menu",templateUrl:i+"menu.html",controllerAs:r}).when("/blog",{title:"Blog",templateUrl:i+"blog.html",controller:"BlogController",controllerAs:r}).when("/login",{title:"Login",templateUrl:i+"login.html",controllerAs:r}).when("/post/add",{title:"Add Post",templateUrl:i+"addPost.html",controller:"AddPostController",controllerAs:r}).when("/post/:objectId",{title:"Post",templateUrl:i+"post.html",controllerAs:r}).otherwise({redirectTo:"/"})}angular.module("myApp.services",[]);angular.module("myApp.directives",[]);angular.module("myApp.controllers",["myApp.services"]);var t=angular.module("myApp",["ngRoute","ngResource","myApp.controllers","myApp.directives"]).config(["$routeProvider","$locationProvider",n]).value("toastr",toastr).constant("baseServiceUrl","http://localhost:64352/");t.run(["$location","$window","$rootScope","$timeout","notifier",function(n,t,i,r,u){i.$on("$routeChangeSuccess",function(n,t){i.title=t.$$route.title;i.style=t.$$route.style||"page"});i.currentUser=Parse.User.current();i.login=function(t){Parse.User.logIn(t.username,t.password,{success:function(n){i.currentUser=n;u.success("Successful login!")},error:function(){u.error("Username/Password combination is not valid!")}});r({},0);n.path("/post/add")};i.signup=function(n){var r=new Parse.User;r.set("username",n.username);r.set("password",n.password);r.set("email",n.email);r.set("fname",n.fname);r.set("lname",n.lname);r.signUp(null,{success:function(n){u.success("Registration successful!");i.currentUser=n;t.location.assign("/blog")},error:function(n,t){u.error("Error: "+t.code+" "+t.message)}})};i.logOut=function(){Parse.User.logOut();u.success("Successful logout!");i.currentUser=null;r({},0);n.path("/")};i.forgot=function(n){Parse.User.requestPasswordReset(n,{success:function(){u.success("Password reset request was sent successfully!")},error:function(n){u.error("Error: "+n.code+" "+n.message)}})}}])})();